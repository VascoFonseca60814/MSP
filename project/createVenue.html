<!DOCTYPE html>
<html lang="pt">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Rent Elegance</title>
  <link rel="icon" type="image/x-icon" href="res/icon.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.css">

  <link rel="stylesheet" type="text/css" href="./css/animations.css" />
  <link rel="stylesheet" type="text/css" href="./css/styles.css" />
</head>

<body>
  <nav class="autohide navbar navbar-expand navbar-dark fixed-top " aria-label="Second navbar example">
    <div class="container">

      <a class="navbar-brand fadein" href="./catalog.html">
        <img src="./res/icon.png" alt="" width="40" height="40" class="d-inline-block align-text-top">
      </a>

      <div class="navbar-collapse d-flex justify-content-start fadein d-none d-md-block">
        <ul class="navbar-nav ml-auto d-flex align-items-center d-none d-md-block">
          <li class="nav-item">
            <text class="title navbar-brand text-uppercase">Rent Elegance</text>
          </li>
        </ul>
      </div>

      <div class="navbar-collapse d-flex justify-content-end slidein">
        <ul class="navbar-nav d-flex align-items-center ">
          <li class="nav-item ml-xs-5 ms-4">
            <a href="./catalog.html"> <i class="fa-solid fa-house text-white h3 m-2 scale-2"></i> </a>
          </li>
          <li class="nav-item ml-xs-5 ms-4">
            <a href="./ListofFavorites.html"> <i class="fa-regular fa-heart text-white h3 m-2 scale-2"></i> </a>
          </li>
          <li class="nav-item ms-4">
            <a href="./createVenue.html" class="btn btn-add-venue m-2 scale-1 d-none d-md-block">
              <text class="main-buttons h6">Adicionar Venue</text> <i class="fa fa-plus"></i>
            </a>
          </li>
          <li class="nav-item ms-4">

            <div class="dropdown">
              <a type="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img class="rounded-circle shadow-4-strong scale-1" src="./res/profile.jpg" width="50" height="50" />
              </a>
              <div class="dropdown-menu dropdown-menu-end rounded-1 p-3">
                <a class="dropdown-item" href="./PersonalArea.html"><i class="fa-solid fa-user me-3"></i>Perfil</a>
                <a class="dropdown-item" href="./ListofFavorites.html"><i
                    class="fa-regular fa-heart me-3"></i>Favoritos</a>
                <a class="dropdown-item" href="./listReservations.html"><i
                    class="fa-regular fa-clipboard me-3"></i>Reservas</a>
                <a class="dropdown-item" href="./ListVenues.html"><i class="fa-solid fa-house me-3"></i>Minhas
                  venues</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item" href="#"><i class="fa fa-sign-out me-3"></i> Sair</a>
              </div>
            </div>

          </li>
        </ul>
      </div>

    </div>
  </nav>



  <div class="content container p-5 pt-0">
    <div class="row shadow-div shadow p-5">
      <form id="createVenue" class="row needs-validation mt-0" novalidate>

        <div class="col-12">

          <div class="">
            <h2 class="text-white ">Adicionar o seu espaço</h2>
            <hr class="bg-white  mt-2 mb-2">

          </div>
        </div>

        <div class="col-12">
          <div class="container-fluid">
            <div class="row justify-content-center">
              <div class="col-12 p-0 mt-3 mb-2">
                <div class="card ">
                  <form id="msform">
                    <!-- progressbar -->
                    <ul id="progressbar" class="text-center">
                      <li class="active" id="account"></li>
                      <li id="personal"></li>
                      <li id="payment"></li>
                      <li id="confirm"></li>
                    </ul>
                    <!-- <div class="progress">
                                <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>-->

                    <!-- fieldsets -->

                    <fieldset>

                      <div class="form-card">
                        <div class="row">
                          <div class="col-12">
                            <h3 class="fs-title"><strong>Informação:</strong></h3>
                          </div>

                          <div class="col-md-7">
                            <label class="form-label text-white required">Nome</label>
                            <input type="text" name="event-name" class="form-control" required>
                          </div>

                          <div class="col-md-3">
                            <label class="form-label text-white required">Nº máximo de convidados</label>
                            <input type="number" class="form-control" name="guests" max="1000" min="1" required>
                          </div>

                          <div class="col-md-2">
                            <label class="form-label text-white required">Preço por dia (€)</label>
                            <input type="text" name="event-name" class="form-control" maxlength="5" required>
                          </div>

                          <div class="col-md-12">
                            <label class="form-label text-white required">Morada</label>
                            <input type="text" name="event-name" class="form-control" required>
                          </div>

                          <div class="col-md-7">
                            <label class="form-label text-white required">País</label>
                            <input type="text" name="event-name" class="form-control" required>
                          </div>

                          <div class="col-md-3">
                            <label class="form-label text-white required">Cidade / Distrito</label>
                            <input type="text" name="event-name" class="form-control" required>
                          </div>

                          <div class="col-md-2">
                            <label class="form-label text-white required">Código Postal</label>
                            <input type="text" name="event-name" class="form-control" maxlength="5" pattern="[0-9]{5}"
                              required>
                          </div>

                          <div class="col-md-12">
                            <label for="exampleFormControlTextarea1"
                              class="form-label text-white required">Descrição</label>
                            <textarea class="form-control" id="description" name="extra" rows="6" required></textarea>
                          </div>
                        </div>

                      </div>

                      <input type="button" class="btn px-5 mt-2 scale-1 next action-button text-white float-end"
                        style="background-color:  var( --base-color);" value="Próximo" />
                    </fieldset>
                    <fieldset>

                      <div class="form-card">
                        <div class="row">

                          <div class="col-12">
                            <h3 class="fs-title"><strong>Detalhes:</strong></h3>
                          </div>

                          <div class="col-md-12">
                            <label class="form-label text-white required">Tipos de eventos</label>

                            <div class="multiple-select">
                              <select id="comodidades-multiple" placeholder="Selecionar" class="form-control"
                                style="display: none !important;" multiple required>
                                <option value="Aniversários"> </option>
                                <option value="Casamentos"> </option>
                                <option value="Congressos"> </option>
                                <option value="Conferências"> </option>
                                <option value="Festas"> </option>

                              </select>
                            </div>
                          </div>

                          <div class="col-md-12">
                            <label class="form-label text-white required">Serviços</label>

                            <div class="multiple-select">
                              <select id="comodidades-multiple" placeholder="Selecionar"
                                style="display: none !important;" multiple required>
                                <option value="Aluguer de Brinquedos"> </option>
                                <option value="Aluguer de Mobiliário para Casamentos"> </option>
                                <option value="Animação de Festas"> </option>
                                <option value="Aniversários Personalizados"> </option>
                                <option value="Assessoria para Espaços de Casamento"> </option>
                                <option value="Atividades ao Ar Livre"> </option>
                                <option value="Aulas de Dança para Crianças"> </option>
                                <option value="Aulas de Música para Crianças"> </option>
                                <option value="Brinquedoteca"> </option>
                                <option value="Catering para Casamentos"> </option>
                                <option value="Contação de Histórias"> </option>
                                <option value="Culinária para Crianças"> </option>
                                <option value="Decoração de Espaço para Casamentos"> </option>
                                <option value="Espaço para Eventos Infantis"> </option>
                                <option value="Estacionamento para Eventos"> </option>
                                <option value="Escola de Arte para Crianças"> </option>
                                <option value="Festas Temáticas"> </option>
                                <option value="Flores e Paisagismo para Espaços de Casamento"> </option>
                                <option value="Fotografia Infantil"> </option>
                                <option value="Iluminação e Som para Espaços de Casamento"> </option>
                                <option value="Jogos e Brincadeiras Dirigidas"> </option>
                                <option value="Locação de Espaço para Casamentos"> </option>
                                <option value="Locação de Espaço para Piqueniques"> </option>
                                <option value="Oficinas Criativas"> </option>
                                <option value="Pintura Facial"> </option>
                                <option value="Recreação Infantil"> </option>
                                <option value="Serviço de Bar e Bebidas"> </option>
                                <option value="Teatro de Marionetes"> </option>
                              </select>
                            </div>
                          </div>

                          <div class="col-md-12">
                            <label class="form-label text-white required">Comodidades</label>

                            <div class="multiple-select">
                              <select id="comodidades-multiple" placeholder="Selecionar"
                                style="display: none !important;" multiple required>
                                <option value="Ambiente Climatizado"> </option>
                                <option value="Área para Cerimônias ao Ar Livre"> </option>
                                <option value="Área para Festas ao Ar Livre"> </option>
                                <option value="Área para Piqueniques"> </option>
                                <option value="Áreas de Descanso"> </option>
                                <option value="Cantinho da Leitura"> </option>
                                <option value="Cozinha Equipada para Catering"> </option>
                                <option value="Espaço para Atividades Artísticas"> </option>
                                <option value="Espaço para Festas Temáticas"> </option>
                                <option value="Espaço para Fotografia"> </option>
                                <option value="Estacionamento Amplo"> </option>
                                <option value="Jardins Externos"> </option>
                                <option value="Labirinto Divertido"> </option>
                                <option value="Lounge de Convivência"> </option>
                                <option value="Pista de Dança"> </option>
                                <option value="Pista de Dança para Crianças"> </option>
                                <option value="Playground Coberto"> </option>
                                <option value="Sala de Descanso para Pais"> </option>
                                <option value="Sala de Jogos"> </option>
                                <option value="Salão de Festas"> </option>


                              </select>
                            </div>
                          </div>


                        </div>
                      </div>

                      <input type="button"
                        class="btn px-5 mt-2 scale-1 previous action-button-previous text-white float-start"
                        style="background-color:  var( --base-color);" value="Anterior" />
                      <input type="button" class="btn px-5 mt-2 scale-1 next action-button text-white float-end"
                        style="background-color:  var( --base-color);" value="Próximo" />
                    </fieldset>
                    <fieldset>
                      <div class="form-card">
                        <div class="row">

                          <div class="col-12">
                            <h3 class="fs-title"><strong>Fotografias:</strong></h3>
                          </div>

                          <div class="col-md-12">
                            <label class="form-label text-white required">Carrega fotos da venue</label>


                            <div class="form-group">
                              <a href="javascript:void(0)" onclick="$('#pro-image').click()"
                                class="form-control bg-normal btn my-2 text-white" style="width: 200px !important">
                                <i class="fa-solid fa-plus"></i> Upload Image</a>
                              <input type="file" id="pro-image" name="pro-image" style="display: none;"
                                class="form-control" required multiple>
                            </div>

                            <div class="row preview-images-zone w-100 m-0">

                            </div>

                          </div>
                        </div>
                      </div>
                      <input type="button"
                        class="btn px-5 mt-2 scale-1 previous action-button-previous text-white float-start"
                        style="background-color:  var( --base-color);" value="Anterior" />
                      <input type="button" class="btn px-5 mt-2 scale-1 next action-button text-white float-end"
                        style="background-color:  var( --base-color);" value="Próximo" />
                    </fieldset>
                    <fieldset>
                      <div class="form-card">
                        <div class="row">
                          <div class="col-12">
                            <h3 class="fs-title"><strong>Termos e Condições:</strong></h3>
                          </div>

                        </div>
                        <strong>1. Uso do Serviço</strong>
                        <p>O utilizador concorda em utilizar a plataforma apenas para fins legítimos, e de acordo com
                          todas as leis e regulamentações aplicáveis.</p>

                        <strong>2. Registo de Conta</strong>
                        <p>Para utilizar determinados recursos do serviço, pode ser necessário criar uma conta. As
                          informações fornecidas durante o registo devem ser precisas e atualizadas.</p>

                        <strong>3. Responsabilidades do Utilizador</strong>
                        <p>O utilizador é responsável por todas as atividades associadas à sua conta. Qualquer uso não
                          autorizado deve ser reportado imediatamente à nossa equipa.</p>

                        <strong>4. Reserva de Venues</strong>
                        <p>A reserva de venues está sujeita à disponibilidade e aos termos específicos do venue.
                          Certifique-se de ler e compreender as condições de reserva antes de confirmar a sua reserva.
                        </p>

                        <strong>5. Cancelamento e Reembolso</strong>
                        <p>Políticas de cancelamento e reembolso podem variar de acordo com o venue. Consulte as
                          condições específicas de cada venue antes de efetuar uma reserva.</p>

                        <strong>6. Privacidade</strong>
                        <p>Comprometemo-nos a proteger a sua privacidade. As informações pessoais fornecidas serão
                          utilizadas de acordo com a nossa política de privacidade.</p>

                        <strong>7. Alterações nos Termos e Condições</strong>
                        <p>Reservamo-nos o direito de modificar estes termos e condições a qualquer momento. As
                          alterações entrarão em vigor imediatamente após a publicação na plataforma.</p>

                        <p>Ao utilizar os nossos serviços, o utilizador concorda em cumprir estes termos e condições. Se
                          não concordar com algum dos termos, por favor, não utilize a plataforma.</p>

                        <div class="col-12 mt-5">
                          <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                            <label class="form-check-label text-white" for="invalidCheck">
                              Aceitar os termos e condições
                            </label>
                            <div class="invalid-feedback">
                              Para prosseguir voce tem que aceitar os termos e condições!
                            </div>
                          </div>
                        </div>

                      </div>
                      <input type="button"
                        class="btn px-5 mt-2 scale-1 previous action-button-previous text-white float-start"
                        style="background-color:  var( --base-color);" value="Anterior" />
                      <button class="btn px-5 mt-2 scale-1 text-white float-end text-white bg-normal" type="submit">
                        Reservar
                      </button>
                    </fieldset>
                  </form>
                </div>

              </div>
            </div>
          </div>

        </div>

        <div class="modal fade" id="confirmation" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
          aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Confirmar o pedido de reserva</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
              </div>
              <div class="modal-body">
                Adicionar Venue
                <br>
                Curabitur interdum venenatis risus, vitae blandit purus egestas et. Vivamus efficitur risus vel ligula
                lobortis, et aliquet risus interdum.
                <br>
                Pretende confirmar esta ação?
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button class="btn btn-primary p-2 w-50" type="button" onclick="submitCreateVenue()">Confirmar</button>
              </div>
            </div>
          </div>
        </div>

      </form>
    </div>
  </div>

  <footer class="py-4 text-center text-md-start">

    <div class="container">
      <div class="row">
        <div class="col-md-4 col-12">
          <div class="d-flex justify-content-center  justify-content-md-start p-4 p-md-0">

            <ul class="nav flex-column">
              <h4 class="text-white">Contactos</h4>
              <li class="nav-item mb-2 text-white"><i class="fa-solid fa-house me-2"></i>Universidade Nova FCT</li>
              <li class="nav-item mb-2 text-white"><i class="fa-solid fa-phone me-2"></i>+(351) 213 131 231</li>
              <li class="nav-item mb-2 text-white"><i class="fa-solid fa-envelope me-2"></i>geral@rentelegance.pt</li>
            </ul>
          </div>
        </div>

        <div class="col-md-4 col-12">
          <div class="d-flex justify-content-center justify-content-md-start p-4 p-md-0">
            <ul class="nav flex-column">

              <h4 class="text-white ">Redes Sociais</h4>

              <ul class="nav list-inline">
                <li class="btn btn-social"><i class="fab fa-facebook-f"></i></li>
                <li class="btn btn-social"><i class="fab fa-twitter"></i></li>
                <li class="btn btn-social"><i class="fab fa-linkedin-in"></i></li>
                <li class="btn btn-social"><i class="fab fa-whatsapp"></i></li>

              </ul>
            </ul>
          </div>
        </div>

        <div class="col-md-4 col-12">
          <div class="d-flex justify-content-center justify-content-md-start p-4 p-md-0">
            <form>
              <h4 class="text-white">Subscreva a nossa newsletter</h4>
              <p class="text-white">Seja o primeiro a receber as novidades.</p>
              <div class="d-flex w-100 gap-2">
                <label for="newsletter1" class="visually-hidden">Endereço de email</label>
                <input id="newsletter1" type="text" class="form-control" placeholder="Endereço de email">
                <button class="btn btn-subscribe text-white" type="button">Subscrever</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>


  </footer>
  <div class="copyright">
    <div class="text-center text-white p-1">© 2023 Copyright IMP Classes</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/gh/bbbootstrap/libraries@main/choices.min.js"></script>

  <script src="https://kit.fontawesome.com/77b73da3f6.js" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"></script>

  <!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>-->


  <script type='text/javascript' src='./javascript/java.js'></script>

  <script>


    (function () {
      'use strict'

      // Fetch all the forms we want to apply custom Bootstrap validation styles to
      var forms = document.querySelectorAll('.needs-validation')

      // Loop over them and prevent submission
      Array.prototype.slice.call(forms)
        .forEach(function (form) {
          form.addEventListener('submit', function (event) {
            if (!form.checkValidity()) {
              event.preventDefault()
              event.stopPropagation()
            }

            form.classList.add('was-validated')


          }, false)
        })
    })()

    $(document).ready(function () {
      var multipleCancelButton = new Choices('#comodidades-multiple', {
        removeItemButton: true,
        searchResultLimit: 5,
        itemSelectText: "",
        noChoicesText: "Sem resultados",
        noResultsText: "Resultado não encontrado"
      });
    });

    $('#createVenue').on('submit', function (event) {
      if (this.checkValidity() === false) {
        event.preventDefault();
        event.stopPropagation();
        return;
      }

      event.preventDefault();
      event.stopPropagation();

      $('#confirmation').modal('show')
    });

    function submitCreateVenue() {
      const jsonObject = {};
      $.each($('#createVenue').serializeArray(), function () {
        jsonObject[this.name] = this.value;
      });

      jsonObject["amenities"] = $('#comodidades-multiple option:selected').map(function () { return $(this).val(); }).get();

      showSpinner()
      setTimeout(function () {
        const randomBoolean = Math.random() < 0.5;

        hideSpinner();
        $('#confirmation').modal('hide')

        if (randomBoolean > 0.5) { //Success
          formModified = false;
          redirect({ registered: 'true' }, "ListVenues.html");
        }
        else //Failure
          createFailureToast(5000, "Falha ao registar venue!")

      }, 2000);
    }

    //Form Stuff
    const form = document.getElementById('createVenue');
    const formInputs = form.querySelectorAll('input');
    const formSelects = form.querySelectorAll('select');

    let formModified = false;

    formInputs.forEach(input => {
      input.addEventListener('input', function () {
        formModified = true;
      });
    });

    formSelects.forEach(select => {
      select.addEventListener('change', function () {
        formModified = true;
      });
    });

    window.addEventListener('beforeunload', function (event) {
      if (formModified) {
        event.preventDefault();
        event.returnValue = 'You have unsaved changes. Are you sure you want to leave?';
      }
    });



  </script>
</body>

</html>

<script>

  function addValidation() {
    var form = document.getElementById('createVenue');
    form.checkValidity()
    form.classList.add("was-validated");
  }

  function removeValidation() {
    var form = document.getElementById('createVenue');

    form.classList.remove('was-validated');

    var formControls = form.querySelectorAll('.form-control');
    formControls.forEach(function (control) {
      control.classList.remove('is-valid', 'is-invalid');
    });

  }

  $(document).ready(function () {
    var current_fs, next_fs, previous_fs; //fieldsets
    var opacity;
    var current = 1;
    var steps = $("fieldset").length;

    setProgressBar(current);

    $(".next").click(function () {

      addValidation()

      var allFieldsFilled = true;

      $(this).parent().find('[required]').each(function () {

        if (this.checkValidity() === false) {
          allFieldsFilled = false;
          return false;
        }
      });

      if (!allFieldsFilled)
        return

      removeValidation();

      current_fs = $(this).parent();
      next_fs = $(this).parent().next();

      //Add Class Active
      $("#progressbar li").eq($("fieldset").index(next_fs)).addClass("active");

      //show the next fieldset
      next_fs.show();
      //hide the current fieldset with style
      current_fs.animate({ opacity: 0 }, {
        step: function (now) {
          // for making fielset appear animation
          opacity = 1 - now;

          current_fs.css({
            'display': 'none',
            'position': 'relative'
          });
          next_fs.css({ 'opacity': opacity });
        },
        duration: 500
      });
      setProgressBar(++current);
    });

    $(".previous").click(function () {

      current_fs = $(this).parent();
      previous_fs = $(this).parent().prev();

      //Remove class active
      $("#progressbar li").eq($("fieldset").index(current_fs)).removeClass("active");

      //show the previous fieldset
      previous_fs.show();

      //hide the current fieldset with style
      current_fs.animate({ opacity: 0 }, {
        step: function (now) {
          // for making fielset appear animation
          opacity = 1 - now;

          current_fs.css({
            'display': 'none',
            'position': 'relative'
          });
          previous_fs.css({ 'opacity': opacity });
        },
        duration: 500
      });
      setProgressBar(--current);
    });

    function setProgressBar(curStep) {
      var percent = parseFloat(100 / steps) * curStep;
      percent = percent.toFixed();
      $(".progress-bar")
        .css("width", percent + "%")
    }

    $(".submit").click(function () {
      return false;
    })

  });

  $(document).ready(function () {
    $('.choices__input').addClass('form-control');
    $('.choices__input').prop('required', true);

    $('select.choices__input').change(function () {
      let input = $(this).parent().children("input")[0];


      if ($(this)[0].length > 0) {
        $(input).removeClass("is-invalid")
        $(input).prop('required', false);
      }
      else {
        $(input).prop('required', true);
      }

    });


  });
</script>